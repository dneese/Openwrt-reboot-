# Openwrt-reboot
# Автоматичне перезавантаження OpenWRT при відсутності інтернету

Цей скрипт перевіряє наявність інтернет-з'єднання і перезавантажує роутер OpenWRT у випадку його відсутності. Скрипт налаштовується для періодичного запуску за допомогою cron.

## Інструкції

1. Увійдіть на роутер через SSH.
   
2. Створіть новий файл `check_internet.sh`:

    ```sh
    touch /root/check_internet.sh
    ```

3. Відредагуйте файл за допомогою текстового редактора (наприклад, `vi`):

    ```sh
    vi /root/check_internet.sh
    ```

4. Додайте наступний скрипт до файлу:

    ```sh
    #!/bin/sh
    
    # URL для перевірки
    TEST_URL="8.8.8.8"
    
    # Пінг до тестового URL
    ping -c 1 $TEST_URL > /dev/null 2>&1
    
    # Перевірка результату пінгу
    if [ $? -ne 0 ]; then
      echo "Інтернет відсутній, перезавантаження роутера..."
      reboot
    else
      echo "Інтернет доступний"
    fi
    ```

5. Зробіть скрипт виконуваним:

    ```sh
    chmod +x /root/check_internet.sh
    ```

6. Налаштуйте cron для періодичного виконання цього скрипта. Відредагуйте crontab:

    ```sh
    crontab -e
    ```

7. Додайте наступний рядок для перевірки кожні 5 хвилин:

    ```sh
    */5 * * * * /root/check_internet.sh
    ```

Цей скрипт буде перевіряти наявність інтернет-з'єднання кожні 5 хвилин і перезавантажувати роутер, якщо з'єднання немає. Ви можете змінити інтервал перевірки, відредагувавши значення в crontab.

## Ліцензія

Цей проект ліцензується під MIT License.
